var Kubox=function(){"use strict";function t(t){return t.replace(/[\s\t\n\-\_]+(\w)/g,function(t,n){return n.toUpperCase()})}function n(n,i){return t(n+(n?" ":"")+i)}function i(t,n){if("object"==typeof nextState){var i=Object.keys(n);i.length&&(t.state=Object.assign({},t.state,n),i.concat("*").forEach(function(n){return(t.subscribers[n]||[]).forEach(function(n){return n(t.state)})}))}}var e=function(t,n){void 0===t&&(t={}),void 0===n&&(n={}),this.state=t,this.actions={},this.subscribers={},this.mapActions(n)};return e.prototype.subscribe=function t(n,i){if(void 0===i&&(i="*"),"function"==typeof n){var t=this.subscribers[i]=this.subscribers[i]||[];return t.push(n),function(){t.splice(t.indexOf(n)>>>0,1)}}},e.prototype.mapActions=function(t,i){var e=this;if(void 0===i&&(i=""),"object"==typeof t)for(var o in t){var r=t[o];"object"==typeof r&&e.mapActions(r,n(i,o)),"function"==typeof r&&e.action(o,r,i)}},e.prototype.action=function(t,e,o){var r=this;return void 0===o&&(o=""),t=n(o,t),this.actions[t]=function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return e.apply(void 0,[{set:function(n){var e;return n=o?(e={},e[o]=n,e):n,"middleware"!==t&&r.actions.middleware?r.actions.middleware(t,n):i(r,n)},get:function(){return o?r.state[o]:r.state}}].concat(n))}},e}();